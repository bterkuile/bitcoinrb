require 'spec_helper'

RSpec.describe Bitcoin::Message::Base do

  describe '#from_pkt' do
    subject {
      Bitcoin::Message::Base.from_pkt('0b11090776657273696f6e000000000067000000613c82ee7f1101000000000000000000cf31455900000000080000000000000000000000000000000000ffff7f000001479d080000000000000000000000000000000000ffff7f000001479d40abec703bf6eeba112f626974636f696e72623a302e312e302f0000000000'.htb)
    }
    it 'should get version object.' do
      expect(subject).to be_a(Bitcoin::Message::Version)
      expect(subject.to_pkt.bth).to eq('0b11090776657273696f6e000000000067000000613c82ee7f1101000000000000000000cf31455900000000080000000000000000000000000000000000ffff7f000001479d080000000000000000000000000000000000ffff7f000001479d40abec703bf6eeba112f626974636f696e72623a302e312e302f0000000000')
    end
  end

end